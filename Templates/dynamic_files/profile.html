{% extends 'dynamic_files/base.html' %} {% block body %}
<span></span>
{% include "dynamic_files/navbar.html" %}
<span></span>
{% include "dynamic_files/alert.html" %}

<div style="margin: 20px 30px 0px 30px">
	<div class="card" style="float: left; width: 300px">
		<div class="card-body align-items-center text-center">
			{% if user.gender == 1 %}
			<img
				src="/static/Images/profile_b.jpg"
				class="rounded-circle"
				width="250" />
			{% else %}
			<img
				src="/static/Images/profile_g.jpg"
				class="rounded-circle"
				width="250" />
			{% endif %}

			<div class="mt-3">
				<h4>{{user.username}}</h4>
				{% if request.user.groups.all.0.name == 'Employee' %}
				<p
					style="
						font-style: italic;
						font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande',
							'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
					">
					Employee at Code Verdict
				</p>
				{% else %}
				<p
					style="
						font-style: italic;
						font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande',
							'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
					">
					Student at Code Verdict
				</p>
				{% endif %}
			</div>
		</div>
	</div>

	<div style="float: right; width: 75%">
		<div class="card">
			<div class="card-body" style="margin-left: 0px">
				<div class="row">
					<div class="col-sm-3">
						<h6 class="mb-0">Full Name</h6>
					</div>
					<div class="col-sm-9 text-secondary">{{user.name}}</div>
				</div>
				<hr />
				<div class="row">
					<div class="col-sm-3">
						<h6 class="mb-0">Email</h6>
					</div>
					<div class="col-sm-9 text-secondary">{{user.mail}}</div>
				</div>
				<hr />
				<div class="row">
					<div class="col-sm-3">
						<h6 class="mb-0">Contact Number</h6>
					</div>
					<div class="col-sm-9 text-secondary">{{user.num}}</div>
				</div>
				<hr />
				<div class="row">
					<div class="col-sm-3">
						<h6 class="mb-0">Username</h6>
					</div>
					<div class="col-sm-9 text-secondary">{{user.username}}</div>
				</div>
			</div>
		</div>

		<br />
		<div class="card h-100">
			<div class="card-body" style="padding-left: 10px">
				<h2 style="text-align: center">Past Submissions</h2>
				<table class="table table-striped">
					<thead>
						<tr>
							<th style="font-size: larger">Time</th>
							<th style="font-size: larger">Language</th>
							<th style="font-size: larger">Question</th>
							<th style="font-size: larger">Code</th>
							<th style="font-size: larger">Status</th>
						</tr>
					</thead>
					<tbody>
						{% for submission in info %}
						<tr>
							<th style="font-weight: 500">{{submission.time}}</th>

							<th
								style="
									font-weight: 500;
									font-family: Verdana, Geneva, Tahoma, sans-serif;
								">
								{% if submission.language == '1' %}
								<span> C++</span>
								{% elif submission.language == '2' %}
								<span>Python</span>
								{% elif submission.language == '3' %}
								<span>Java</span>
								{% else %}
								<span>C-Programming </span>
								{% endif %}
							</th>

							<th
								style="
									font-weight: 500;
									font-family: Verdana, Geneva, Tahoma, sans-serif;
								">
								<a
									href="/dash/{{submission.question.id}}"
									style="text-decoration: none; color: rgb(82, 111, 255)"
									>{{submission.question.name}}
								</a>
							</th>

							<th
								data-target="#code{{submission.id}}"
								data-toggle="modal"
								style="
									font-weight: 500;
									color: rgb(182, 6, 213);
									font-family: Verdana, Geneva, Tahoma, sans-serif;
								">
								Code - {{submission.id}}
							</th>

							<div
								class="modal fade"
								id="code{{submission.id}}"
								tabindex="-1"
								role="dialog"
								aria-labelledby="code{{submission.id}}_Label"
								aria-hidden="true">
								<div class="modal-dialog" role="document">
									<div class="modal-content">
										<div class="modal-header">
											<h5 class="modal-title" id="code{{submission.id}}_Label">
												Your full code !!
											</h5>
											<button
												type="button"
												class="close"
												data-dismiss="modal"
												aria-label="Close">
												<span aria-hidden="true">&times;</span>
											</button>
										</div>

										<div class="modal-body">
											<pre>{{submission.code}}</pre>
										</div>
										<div class="modal-footer">
											<button
												type="button"
												class="btn btn-secondary"
												data-dismiss="modal">
												Close
											</button>
										</div>
									</div>
								</div>
							</div>

							<th>
								{% if submission.status == 1 %}
									<button type="button" class="btn btn-success">Accepted</button>
								{% else %}
									<button type="button" class="btn btn-danger">Wrong Answer</button>
								{% endif %}
							</th>
						</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>

{% endblock %}
