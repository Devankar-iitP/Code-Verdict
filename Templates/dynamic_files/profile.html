<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no" />

		<!-- Favicon icon -->
		<link
			rel="apple-touch-icon"
			sizes="180x180"
			href="/static/favicon/apple-touch-icon.png" />
		<link
			rel="icon"
			type="image/png"
			sizes="32x32"
			href="/static/favicon/favicon-32x32.png" />
		<link
			rel="icon"
			type="image/png"
			sizes="16x16"
			href="/static/favicon/favicon-16x16.png" />
		<link rel="manifest" href="/static/favicon/site.webmanifest" />
		<link
			rel="mask-icon"
			href="/static/favicon/safari-pinned-tab.svg"
			color="#5bbad5" />
		<meta name="msapplication-TileColor" content="#2b5797" />
		<meta name="theme-color" content="#ffffff" />

		<!-- CSS portion -->
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
			integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
			crossorigin="anonymous" />
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />

		<link rel="stylesheet" href="/static/CSS/main.css" />
		<link rel="stylesheet" href="/static/Prism/prism.css" />

		<title>{{title}}</title>
	</head>

	<body
		style="
			background-image: url('/static/Images/profile-bg.png');
			background-repeat: no-repeat;
			background-size: cover;
		">
		{% include "dynamic_files/navbar.html" %}
		<span></span>
		{% include "dynamic_files/alert.html" %}

		<div style="margin: 20px 30px 0px 30px">
			<div class="card" style="float: left; width: 300px">
				<div class="card-body align-items-center text-center">
					{% if user.gender == 1 %}
					<img
						src="/static/Images/profile_b.jpg"
						class="rounded-circle"
						width="250" />
					{% else %}
					<img
						src="/static/Images/profile_g.jpg"
						class="rounded-circle"
						width="250" />
					{% endif %}

					<div class="mt-3">
						<h4>{{user.username}}</h4>
						{% if request.user.groups.all.0.name == 'Employee' %}
						<p
							style="
								font-style: italic;
								font-family: 'Lucida Sans', 'Lucida Sans Regular',
									'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana,
									sans-serif;
							">
							Employee at Code Verdict
						</p>
						{% else %}
						<p
							style="
								font-style: italic;
								font-family: 'Lucida Sans', 'Lucida Sans Regular',
									'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana,
									sans-serif;
							">
							Student at Code Verdict
						</p>
						{% endif %}

						<h5>
							<span style="font-size: 30px">&#127881;</span> Highest Streak -
							{{streak}}
						</h5>
					</div>
				</div>

				<div style="margin: 0px 10px 10px 10px">
					<h6>C++ :</h6>
					<div class="progress">
						<div
							class="progress-bar progress-bar-striped bg-success"
							role="progressbar"
							style="width: {{cpp}}%"
							aria-valuenow="50"
							aria-valuemin="0"
							aria-valuemax="100"></div>
					</div>
				</div>

				<div style="margin: 0px 10px 10px 10px">
					<h6>Python :</h6>
					<div class="progress">
						<div
							class="progress-bar progress-bar-striped bg-info"
							role="progressbar"
							style="width: {{py}}%"
							aria-valuenow="50"
							aria-valuemin="0"
							aria-valuemax="100"></div>
					</div>
				</div>

				<div style="margin: 0px 10px 10px 10px">
					<h6>Java :</h6>
					<div class="progress">
						<div
							class="progress-bar progress-bar-striped bg-warning"
							role="progressbar"
							style="width: {{java}}%"
							aria-valuenow="50"
							aria-valuemin="0"
							aria-valuemax="100"></div>
					</div>
				</div>

				<div style="margin: 0px 10px 10px 10px">
					<h6>C-Programming :</h6>
					<div class="progress">
						<div
							class="progress-bar progress-bar-striped bg-danger"
							role="progressbar"
							style="width: {{c}}%"
							aria-valuenow="50"
							aria-valuemin="0"
							aria-valuemax="100"></div>
					</div>
				</div>
			</div>

			<div style="float: right; width: 75%">
				<div class="card">
					<div class="card-body" style="margin-left: 0px">
						<div class="row">
							<div class="col-sm-3">
								<h6 class="mb-0">Full Name</h6>
							</div>
							<div class="col-sm-9 text-secondary">{{user.name}}</div>
						</div>
						<hr />
						<div class="row">
							<div class="col-sm-3">
								<h6 class="mb-0">Email</h6>
							</div>
							<div class="col-sm-9 text-secondary">{{user.mail}}</div>
						</div>
						<hr />
						<div class="row">
							<div class="col-sm-3">
								<h6 class="mb-0">Contact Number</h6>
							</div>
							<div class="col-sm-9 text-secondary">{{user.num}}</div>
						</div>
						<hr />
						<div class="row">
							<div class="col-sm-3">
								<h6 class="mb-0">Username</h6>
							</div>
							<div class="col-sm-9 text-secondary">{{user.username}}</div>
						</div>
					</div>
				</div>

				<br />
				<div class="card h-100">
					<div class="card-body" style="padding-left: 10px">
						<h2 style="text-align: center">Past Submissions</h2>
						<table class="table table-striped">
							<thead>
								<tr>
									<th style="font-size: larger">
										<i class="bi bi-clock-history mr-1"></i> Time
									</th>
									<th style="font-size: larger">Language</th>
									<th style="font-size: larger">Question</th>
									<th style="font-size: larger">
										<i class="bi bi-file-earmark-code"></i>
										Code
									</th>
									<th style="font-size: larger">Status</th>
								</tr>
							</thead>
							<tbody>
								{% for submission in info %}
								<tr>
									<th style="font-weight: 500">{{submission.time}}</th>

									<th
										style="
											font-weight: 500;
											font-family: Verdana, Geneva, Tahoma, sans-serif;
										">
										{% if submission.language == '1' %}
										<span> C++</span>
										{% elif submission.language == '2' %}
										<span>Python</span>
										{% elif submission.language == '3' %}
										<span>Java</span>
										{% else %}
										<span>C-Programming </span>
										{% endif %}
									</th>

									<th
										style="
											font-weight: 500;
											font-family: Verdana, Geneva, Tahoma, sans-serif;
										">
										<a
											href="/dash/{{submission.question.id}}"
											style="text-decoration: none; color: rgb(82, 111, 255)"
											>{{submission.question.name}}
										</a>
									</th>

									<th
										data-target="#code{{forloop.revcounter}}"
										data-toggle="modal"
										style="
											font-weight: 500;
											color: rgb(182, 6, 213);
											font-family: Verdana, Geneva, Tahoma, sans-serif;
										">
										Code - {{forloop.revcounter}}
									</th>

									<!-- **************** Modal class ********************************** -->
									<div
										class="modal fade"
										id="code{{forloop.revcounter}}"
										tabindex="-1"
										role="dialog"
										aria-labelledby="code{{forloop.revcounter}}_Label"
										aria-hidden="true">
										<div class="modal-dialog modal-lg" role="document">
											<div class="modal-content">
												<div class="modal-header">
													<h5
														class="modal-title"
														id="code{{forloop.revcounter}}_Label">
														Your full code !!
													</h5>
													<button
														type="button"
														class="close"
														data-dismiss="modal"
														aria-label="Close">
														<span aria-hidden="true">&times;</span>
													</button>
												</div>

												<div class="modal-body line-numbers">
													{% if submission.language == '3' %}
													<pre><code class="language-java match-braces rainbow-braces" data-prismjs-copy=" Copy Code">{{submission.code}}</code></pre>
													{% elif submission.language == '2' %}
													<pre><code class="language-python match-braces rainbow-braces" data-prismjs-copy="Copy Code">{{submission.code}}</code></pre>
													{% else %}
													<pre><code class="language-cpp match-braces rainbow-braces" data-prismjs-copy="Copy Code">{{submission.code}}</code></pre>
													{% endif %}
												</div>

												<div class="modal-footer">
													<button
														type="button"
														class="btn btn-secondary"
														data-dismiss="modal">
														Close
													</button>
												</div>
											</div>
										</div>
									</div>

									<!-- **************** End of Modal class ********************************** -->

									<th>
										{% if submission.status == 1 %}
										<button type="button" class="btn btn-success">
											Accepted
										</button>
										{% elif submission.status == 2 %}
										<button type="button" class="btn btn-danger">
											Wrong Answer
										</button>
										{% elif submission.status == 3 %}
										<button type="button" class="btn btn-warning">
											<i class="bi bi-alarm"></i>
											TLE
										</button>
										{% else %}
										<button type="button" class="btn btn-warning">
											<i class="bi bi-exclamation-triangle-fill"></i>
											Runtime ERROR
										</button>
										{% endif %}
									</th>
								</tr>
								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>

		<!-- Optional JavaScript -->
		<script src="/static/Prism/prism.js"></script>
		<script
			src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
			integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
			crossorigin="anonymous"></script>
		<script
			src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
			integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
			crossorigin="anonymous"></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
			integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
			crossorigin="anonymous"></script>
	</body>
</html>
